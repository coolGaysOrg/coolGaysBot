# CoolGeysBot

Telegram-бот для анализа активности в чате и уведомлений о состоянии серверов.

## Описание

Этот бот для Telegram создан для одного чата и выполняет следующие функции:
- **Анализ ежедневной активности в чате**: собирает статистику по количеству сообщений и активности пользователей.
- **Уведомление о крашах серверов WoW Suris**: автоматически оповещает чат, если серверы World of Warcraft Suris выходят из строя.

## Технологии

- **Node.js** для серверной части бота
- **TypeScript** для написания основного кода
- **Docker** для контейнеризации приложения и обеспечения портативности

## Установка

1. Клонируйте репозиторий

2. Перейдите в директорию проекта:
    ```bash
    cd coolgeysbot
    ```

3. Установите зависимости:
    ```bash
    npm install
    ```

4. Создайте файл `.env` в корневой директории и добавьте ваш Telegram токен:
    ```env
    TELEGRAM_BOT_TOKEN=TOKEN
    ADMIN_NICKNAME=adminName
    CHAT_ID=chatId
    OPENA_AI_PROXY_URL=urlToProxyOpenAi
    ```

## Сборка и запуск в Docker

Для удобного разворачивания бота можно использовать Docker.

1. Соберите Docker-образ:
    ```bash
    docker build -t coolgeysbot .
    ```

2. Запустите контейнер:
    ```bash
    docker run -d --name coolgeysbot -e TOKEN=ваш_токен ADMIN_NICKNAME=имя_админа CHAT_ID=чат_айди OPENA_AI_PROXY_URL=прокси_урл coolgeysbot
    ```

## Скрипты npm

- **Запуск в режиме разработки**:
    ```bash
    npm run start:dev
    ```
- **Сборка проекта**:
    ```bash
    npm run build
    ```
- **Запуск в продакшн-режиме**:
    ```bash
    npm start
    ```
- **Проверка кода с помощью ESLint**:
    ```bash
    npm run lint
    ```
- **Форматирование кода с помощью Prettier**:
    ```bash
    npm run format
    ```

## Структура проекта

## Структура проекта

```plaintext
coolGeysBot/
├── .github/
│   └── workflows/                 # Конфигурация CI/CD через GitHub Actions
├── dist/                          # Скомпилированные файлы JavaScript
├── node_modules/                  # Установленные зависимости проекта
├── src/                           # Исходный код проекта
│   ├── commands/                  # Команды бота
│   ├── externalApi/               # Взаимодействие с внешними API
│   ├── features/                  # Основные функции бота (анализ активности, уведомления о состоянии серверов)
│   └── utils/                     # Вспомогательные модули и константы
├── .dockerignore                  # Исключения для Docker
├── .env                           # Переменные окружения
├── Dockerfile                     # Конфигурация для сборки Docker-образа
├── package.json                   # Зависимости и скрипты проекта
├── README.md                      # Описание проекта и инструкция
└── tsconfig.json                  # Конфигурация TypeScript
```

## Возможности

- **Анализ активности в чате**: статистика сообщений за день.
- **Уведомления о состоянии серверов**: оповещения о падении серверов WoW Suris.
